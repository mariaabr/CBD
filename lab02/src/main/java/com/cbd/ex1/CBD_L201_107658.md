# CBD – Lab201 – Rafaela Abrunhosa

## O que é MongoDB?

O mongodb é um banco de dados orientado a documentos projetado para facilitar o desenvolvimento e dimensionamento de aplicações.
Oferece alto desempenho, alta disponibilidade e fácil escalabilidade trabalhando no conceito de coleção.
Este pode ser executado em ambientes como mongodb Atlas, Enterprise e Community.
O mongodb permite, assim, gerir dados, armazenar e consultá-los, transformá-los em agregações,
garantir segurança no acesso aos mesmos e implementar e dimensionar a base de dados.
Um único servidor mongodb tem múltiplas bases de dados.
<br>

### Coleção

Uma coleção é um conjunto de documentos mongodb e é o equivalente a uma tabela RDMBS. Existem numa única base de dados e não impõem um schema. Os documentos de uma coleção pode, ainda, ter diferentes campos endo que todos os documentos de uma coleção têm finalidades semelhantes ou relacionadas.

### Documento

Um documento é um conjunto de pares key-value e possuem um dynamic schema não precisando de ter o mesmo conjunto de campos ou estrutura e os campos comuns nos documentos de uma coleção podem conter diferentes tipos de dados.
<br>

**Relação entre a terminologia RDBMS com mongodb:**
| RDMS | MongoDB |
| ---- | ------- |
| Database | Database |
| Table | Collection |
| Tuple/Row | Document |
| column | Field |
| Table Join | Embedded Documents |
| Primary Key | Primary Key (Default key _id provided by MongoDB itself) |

<br>

## Vantagens do MongoDB

### Em relação a RDBMS

- Schema less -> uma coleção tem documentos diferentes sendo que o número de campo, o conteúdo e o tamanho do documento podem variar entre eles.
- A estrutura de um objeto único é clara.
- Sem joins complexos.
- Capacidade de consulta profunda, oferece suporte a consultas dinâmicas em documentos usando uma linguagem de consulta baseada em documentos que é quase tão poderosa quanto o SQL.
- Tuning
- Facilidade de expansão -> é fácil de escalar.
- A conversão/mapeamento de objetos de aplicação em objetos da base de dados não é necessária.
- Utiliza memória interna para armazenar o trabalho (windowed), permitindo um acesso mais rápido aos dados.

### Porque usar o MongoDB?

- Document Oriented Storage -> os dados são armazenados na forma de documentos no estilo JSON.
- Index em qualquer atributo.
- Replicação e alta disponibilidade.
- Auto-Sharding -> Fragmentação automática
- Consultas avançadas.
- Atualizações rápidas no local.
- Suporte profissional do MongoDB

### Onde usar o MongoDB?

- Grandes dados.
- Gestão e entrega de conteúdo.
- Infrastrutura Móvel e Social.
- Gestão de dados do utilizador.
- Centro de dados.

## Data Model Design

Existem dois tipos de modelos de dados: Embedded data model e Normalized data model.

### Embedded data model

Neste modelo, pode-se ter todos os dados relacionados num só documento (modelo de dados desnormalizado).

Supondo que queremos obter os detalhes de empregados em 3 documentos diferentes, nomeadamente Personal_details, Contact e Address, é possível incorporar estes 3 documentos num único só:

    {
        _id: ,
        Emp_ID: "10025AE336"
        Personal_details:{
            First_Name: "Radhika",
            Last_Name: "Sharma",
            Date_Of_Birth: "1995-09-26"
        },
        Contact: {
            e-mail: "radhika_sharma.123@gmail.com",
            phone: "9848022338"
        },
        Address: {
            city: "Hyderabad",
            Area: "Madapur",
            State: "Telangana"
        }
    }

### Normalized data model

Com este modelo é possível consultar os subdocumentos do documento original, utilizando referências.

**Employee:**

    {
        _id: <ObjectId101>,
        Emp_ID: "10025AE336"
    }

**Personal_details:**

    {
        _id: <ObjectId102>,
        empDocID: " ObjectId101",
        First_Name: "Radhika",
        Last_Name: "Sharma",
        Date_Of_Birth: "1995-09-26"
    }

**Contact:**

    {
        _id: <ObjectId103>,
        empDocID: " ObjectId101",
        e-mail: "radhika_sharma.123@gmail.com",
        phone: "9848022338"
    }

**Address:**

    {
        _id: <ObjectId104>,
        empDocID: " ObjectId101",
        city: "Hyderabad",
        Area: "Madapur",
        State: "Telangana"
    }